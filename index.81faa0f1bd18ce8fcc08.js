!function(e){function n(n){for(var r,i,c=n[0],s=n[1],u=n[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(l&&l(n);p.length;)p.shift()();return o.push.apply(o,u||[]),t()}function t(){for(var e,n=0;n<o.length;n++){for(var t=o[n],r=!0,c=1;c<t.length;c++){var s=t[c];0!==a[s]&&(r=!1)}r&&(o.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},a={0:0},o=[];function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="",i.h="81faa0f1bd18ce8fcc08",i.cn="index";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=n,c=c.slice();for(var u=0;u<c.length;u++)n(c[u]);var l=s;o.push([195,1]),t()}({110:function(e,n,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var a,o,i=t(23),c=t(79),s=t(132),u=t(64),l=t(60);!function(e){e.Normal="normal",e.Error="error"}(a=n.LogType||(n.LogType={})),function(e){e.Algrx="execute/algrx",e.Execute="execute/execute",e.LoadedBrython="execute/loaded-brython",e.Pause="execute/pause",e.Resume="execute/resume",e.Restart="execute/restart",e.Log="execute/log"}(o=n.ExecuteActionType||(n.ExecuteActionType={})),n.mapExecuteDispatchToProps=function(e){return{dispatchAlgrx:function(n){return e({type:o.Algrx,algrxState:n})},dispatchExecute:function(n){return e({type:o.Execute,executeId:n})},dispatchLoadedBrython:function(){return e({type:o.LoadedBrython})},dispatchResume:function(){return e({type:o.Resume})},dispatchPause:function(){return e({type:o.Pause})},dispatchLog:function(n,t){return e({type:o.Log,text:n,logType:t})}}};var d=function(e){return r(r({},e),{algrxState:e.algrxState?c.resetAlgrx(e.algrxState):void 0,running:!1,paused:!1,log:[]})},p=function(e){return u.processLog([{text:s.getPLangLogInfo(e),type:a.Normal}])};n.initExecuteState=function(e){return{running:!1,paused:!1,log:p(e),loadedBrython:!1}},n.executeReducer=function(e,t){if(void 0===e&&(e=n.initExecuteState(i.PLang.JS)),t.type===o.Algrx)return r(r({},e),{algrxState:t.algrxState});if(t.type===o.Log)return r(r({},e),{log:e.log.concat(u.processLog([{text:t.text,type:t.logType}]))});if(e.algrxState){if(t.type===l.AppActionType.ChangePLang)return r(r({},d(e)),{log:p(t.newPLang)});if(t.type===l.AppActionType.Resize)return r(r({},e),{algrxState:c.resizeCanvas(e.algrxState)});if(t.type===o.Execute)return r(r({},d(e)),{executeId:t.executeId,running:!0});if(t.type===o.Pause)return r(r({},e),{paused:!0,algrxState:c.pauseCanvas(e.algrxState)});if(t.type===o.Resume)return r(r({},e),{paused:!1,algrxState:c.resumeCanvas(e.algrxState)});if(t.type===o.LoadedBrython)return r(r({},e),{loadedBrython:!0})}return e}},117:function(e,n,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var i=a(t(0)),c=t(27),s=o(t(204));t(205),t(207);var u,l=t(23),d=t(119),p=t(62),f=t(60);t(393),t(395),s.default.define("ace/theme/custom",{isDark:!0,cssClass:"ace-theme"}),function(e){e.Init="editor/init",e.Save="editor/save"}(u=n.EditorActionType||(n.EditorActionType={}));var g=function(e,n,t){var a=s.default.edit(e),o=Object.keys(l.PLang).reduce((function(e,t){var a,o=l.PLang[t];return r(r({},e),((a={})[o]=function(e){var t=n.savedCode&&void 0!==n.savedCode[e],r=new s.default.EditSession(t?n.savedCode[e]:d.projectStore[e].files[d.defaultProjectFiles[e]].code,"ace/mode/"+l.PLangID[e]);return r.setUndoManager(new s.default.UndoManager),r}(o),a))}),{});return a.renderer.scrollBarV.width=10,a.renderer.scrollBarH.height=10,a.$blockScrolling=1/0,o[l.PLang.JS].$worker.send("changeOptions",[{asi:!0}]),a.setTheme("ace/theme/custom"),a.setShowPrintMargin(!1),a.setSession(o[t]),{editor:a,sessions:o}};n.initEditorState={},n.editorReducer=function(e,t){if(void 0===e&&(e=n.initEditorState),t.type===u.Init)return r(r({},e),{aceState:t.aceState});if(e.aceState){var a=e.aceState;if(t.type===f.AppActionType.Resize)return a.editor.resize(),e;if(t.type===f.AppActionType.ChangePLang)return a.editor.setSession(a.sessions[t.newPLang]),e;if(t.type===d.ProjectActionType.Open){var o=d.projectStore[t.pLang].files[t.file].code;a.editor.getSession().doc.setValue(o)}}return e},n.EditorConnected=c.connect((function(e){return{editorState:e.editorState,curPLang:e.pLang}}),(function(e){return{dispatchInit:function(n){return e({type:u.Init,aceState:n})},dispatchSave:function(){return e({type:u.Save})}}}))((function(e){return i.createElement("div",{className:"editor-container"},i.createElement(p.PaneHeader,{title:"EDITOR",buttons:[]}),i.createElement("div",{className:"editor",ref:function(n){return n&&!e.editorState.aceState&&e.dispatchInit(g(n,e.editorState,e.curPLang)),n}}))}))},119:function(e,n,t){"use strict";var r,a,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=i(t(0)),u=t(27),l=t(61),d=t(78),p=t(23),f=t(47),g=t(210);t(391);var v,h=c(t(121)),m=c(t(122)),_=function(e,n){return{files:n.reduce((function(n,r){var a;return o(o({},n),((a={})[r.file]={code:t(211)("./"+p.PLangID[e]+"/"+r.file).default,metadata:r},a))}),{}),order:n.map((function(e){return e.file}))}};n.projectStore=((r={})[p.PLang.JS]=_(p.PLang.JS,m.default),r[p.PLang.Python]=_(p.PLang.Python,h.default),r),n.defaultProjectFiles=((a={})[p.PLang.JS]="dfs.js",a[p.PLang.Python]="dfs.py",a),function(e){e.Open="project/open"}(v=n.ProjectActionType||(n.ProjectActionType={}));n.OpenProjectConnected=u.connect((function(e){return{curPLang:e.pLang}}),(function(e){return o(o({},f.mapClosePopupToProps(e)),{dispatchOpenProject:function(n,t){return e({type:v.Open,pLang:n,file:t})}})}))((function(e){return s.createElement(g.PopupConnected,{title:p.PLangName[e.curPLang]+" Examples"},s.createElement("div",{className:"openproject scrollbar-y"},s.createElement("div",{className:"openproject-inner"},n.projectStore[e.curPLang].order.map((function(t){var r=n.projectStore[e.curPLang].files[t];return s.createElement("div",{key:t,className:"openproject-project",onClick:function(){e.dispatchOpenProject(e.curPLang,t),e.dispatchClosePopup()}},s.createElement(l.FontAwesomeIcon,{className:"openproject-project-icon",icon:d.faFileCode}),s.createElement("div",null,s.createElement("div",{className:"openproject-project-title"},r.metadata.name),s.createElement("a",{className:"openproject-project-subtitle",href:r.metadata.author.url,target:"_blank",onClick:function(e){e.stopPropagation()}},"By "+r.metadata.author.name)))})))))}))},121:function(e){e.exports=JSON.parse('[{"file":"dfs.py","name":"Depth First Search","author":{"name":"Alex Socha","url":"https://github.com/alexsocha"}},{"file":"mergesort.py","name":"Merge Sort","author":{"name":"Alex Socha","url":"https://github.com/alexsocha"}},{"file":"maze.py","name":"Maze Solver","author":{"name":"Alex Socha","url":"https://github.com/alexsocha"}}]')},122:function(e){e.exports=JSON.parse('[{"file":"dfs.js","name":"Depth First Search","author":{"name":"Alex Socha","url":"https://github.com/alexsocha"}},{"file":"mergesort.js","name":"Merge Sort","author":{"name":"Alex Socha","url":"https://github.com/alexsocha"}}]')},123:function(e,n,t){"use strict";t.r(n),n.default="// Depth First Search\n\n// Generate a random graph\nMath.seed(28)\nconst G = jsnx.fastGnpRandomGraph(10, 0.3)\nfor (let n of G) G.node[n] = {seen: false}\n\n// Render graph\ncanvas.nodes(G.nodes()).add().label().text('')\ncanvas.edges(G.edges()).add()\ncanvas.pause(1)\n\n// Recursive DFS function\nfunction dfs(n) {\n    G.node[n].seen = true\n\n    canvas.node(n).highlight().size('1.25x')\n    canvas.node(n).color('blue')\n    canvas.pause(0.5)\n\n    for (let n2 of G.neighbors(n)) {\n        if (G.node[n2].seen)\n            continue\n        canvas.edge([n, n2]).traverse().color('red').pause(0.5)\n        dfs(n2) // DFS on neighbor\n        canvas.edge([n2, n]).traverse().color('blue').pause(0.5)\n        canvas.node(n).highlight().size('1.25x').pause(0.5)\n    }\n}\n\ndfs(0)\n"},124:function(e,n,t){"use strict";t.r(n),n.default="// Merge Sort\n\nconst unsorted = [7, 3, 2, 6, 8, 5, 1, 4]\n\nconst nodeStyle = {\n    shape: 'rect',\n    size: [30, 15],\n    fixed: true\n}\n\nfunction nodePos(i, level) {\n    const x = (i - (unsorted.length - 1) / 2) * 80\n    const y = -(level - Math.ceil(Math.log2(unsorted.length)) / 2) * 120\n    return [x, y]\n}\nfunction nodeId(i, level) {\n    return String(i) + '_' + String(level)\n}\n\nfunction animateMergeEdge(nodePrev, nodeCur, number, color) {\n    const edge = [nodePrev, nodeCur]\n\n    canvas.node(nodePrev).color(color)\n    canvas.edge(edge).add().directed(true)\n    canvas.pause(0.5)\n\n    canvas.edge(edge).traverse().duration(0.8).color(color).pause(0.2)\n    canvas.node(nodeCur).label().text(number).visible(true)\n    canvas.pause(0.5)\n}\n\nfunction animateMerge(left, right, index, level) {\n    const totalLen = left.length + right.length\n    const prevIds = Array(totalLen).fill(0).map((_, i) =>\n        nodeId(index + i, level - 1))\n    const curIds = Array(totalLen).fill(0).map((_, i) =>\n        nodeId(index + i, level))\n\n    canvas.nodes(curIds).add()\n        .set(nodeStyle)\n        .pos((n, i) => nodePos(index + i, level))\n        .label().visible(false)\n\n    canvas.edges(Array(totalLen - 1).fill(0).map((_, i) =>\n        [curIds[i], curIds[i + 1]])).add()\n\n    canvas.pause(0.8)\n\n    let li = 0\n    let ri = 0\n    let result = []\n    for (let i = 0; i < totalLen; i++) {\n        if (ri === right.length || (li < left.length && left[li] < right[ri])) {\n            result.push(left[li])\n            animateMergeEdge(prevIds[li], curIds[i],\n                left[li], 'green')\n            li += 1\n        } else {\n            result.push(right[ri])\n            animateMergeEdge(prevIds[left.length + ri], curIds[i],\n                right[ri], 'red')\n            ri += 1\n        }\n    }\n    return result\n}\n\nfunction mergeSort(array, index=0, level=null) {\n    level = level === null ? Math.ceil(Math.log2(array.length)) : level\n\n    if (array.length == 1) {\n        if (level !== 0)\n            animateMerge(array, [], index, level)\n        return array\n    }\n    const splitIndex = Math.floor(array.length / 2)\n    const left = mergeSort(array.slice(0, splitIndex), index, level - 1)\n    const right = mergeSort(array.slice(splitIndex), index + splitIndex, level - 1)\n\n    return animateMerge(left, right, index, level)\n}\n\ncanvas.pause(0.1)\nconst topIds = Array(unsorted.length).fill(0).map((_, i) => nodeId(i, 0))\ncanvas.nodes(topIds).add()\n    .set(nodeStyle)\n    .pos((n, i) => nodePos(i, 0))\n    .data(unsorted).label()\n        .text(n => n)\n\ncanvas.pause(1)\nmergeSort(unsorted)\n"},131:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(222);n.loadBrython=function(e){window.__brython_load__=e;var n=document.createElement("script");n.type="text/javascript",n.src="brython."+r.version+".js",document.head.append(n),n.onload=function(){brython({indexedDB:!0});__BRYTHON__.run_script("\nfrom browser import window\nfrom algorithmx import *\nfrom networkx import *\n\nwindow['__brython_load__']()\n","load","main")}};var a=function(e){return{write:e,flush:function(){}}};n.executePython=function(e){window.__algorithmx_client__=e.client,window.__algorithmx_code__=e.code,__BRYTHON__.stdout=a(e.onOut),__BRYTHON__.stderr=a(e.onErr),window.addEventListener("error",(function(n){var t=n.error;if(t.args&&t.args.__brython__){var r=(t.__class__.$infos.__name__,t.args.length>0?t.args[0]:"");e.onErr(r)}}));try{__BRYTHON__.run_script("\nfrom browser import window\nfrom algorithmx import canvas_selection\n\nreal_client = window['__algorithmx_client__']\ncode = window['__algorithmx_code__']\n\nclass EventHandler:\n    def dispatch(self, event):\n        real_client.dispatch(event)\n\n    def subscribe(self, fn):\n        real_client.subscribe(fn)\n\nevent_handler = EventHandler()\ncanvas = canvas_selection('demo', event_handler)\n\nexec(code, globals(), {'canvas': canvas})\n","demo","main")}catch(n){e.onErr(String(n))}}},132:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(23),a=t(79),o=t(223),i=t(131),c=t(64);n.execute=function(e){var n=a.createEventHandler(e.algrxState,e.executeId,e.onUpdate),t=a.createCanvasSelection(n),s={code:e.code,canvas:t,client:n,executeId:e.executeId,onOut:c.ensureExecuteId(e.executeId,e.onOut),onErr:c.ensureExecuteId(e.executeId,e.onErr)};e.pLang===r.PLang.JS?o.executeJS(s):e.pLang===r.PLang.Python&&i.executePython(s)},n.getPLangLogInfo=function(e){return e===r.PLang.JS?"Language: JavaScript ES6\nAvailable Packages: algorithmx, jsnetworkx":e===r.PLang.Python?"Language: Python 3 (Brython)\nAvailable Packages: algorithmx, networkx (minimal)":""}},191:function(e,n,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var a=t(23);n.saveState=function(e){var n=e.editorState.aceState;if(n){var t={pLang:e.pLang,code:n.editor.getValue()};localStorage.setItem("algorithmx-demo",JSON.stringify(t))}},n.loadState=function(e){var n,t=localStorage.getItem("algorithmx-demo");if(t){var o=JSON.parse(t),i=o.pLang,c=o.code,s=e(i);return r(r({},s),{editorState:r(r({},s.editorState),{savedCode:(n={},n[i]=c,n)})})}return e(a.PLang.JS)}},195:function(e,n,t){e.exports=t(59)},210:function(e,n,t){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var a=r(t(0)),o=t(27),i=t(78),c=t(47),s=t(62);t(389);n.PopupConnected=o.connect((function(){return{}}),c.mapClosePopupToProps)((function(e){return a.createElement("div",{className:"popup"},a.createElement("div",{className:"popup-window"},a.createElement(s.PaneHeader,{title:e.title,buttons:[{icon:i.faTimes,onClick:e.dispatchClosePopup}]}),a.createElement("div",{className:"popup-inner"},e.children)))}))},211:function(e,n,t){var r={"./javascript/dfs":123,"./javascript/dfs.js":123,"./javascript/examples.json":122,"./javascript/mergesort":124,"./javascript/mergesort.js":124,"./python/dfs.py":212,"./python/examples.json":121,"./python/maze.py":213,"./python/mergesort.py":214};function a(e){var n=o(e);return t(n)}function o(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=211},212:function(e,n,t){"use strict";t.r(n),n.default="# Depth First Search\nimport networkx as nx\n\n# Generate a random graph\nG = nx.fast_gnp_random_graph(10, 0.3, seed=50)\nnx.set_node_attributes(G, False, 'seen')\n\n# Render graph\ncanvas.nodes(G.nodes).add().label().text('')\ncanvas.edges(G.edges).add()\ncanvas.pause(1)\n\n# Recursive DFS function\ndef dfs(n):\n    G.nodes[n]['seen'] = True\n\n    canvas.node(n).highlight().size('1.25x')\n    canvas.node(n).color('blue')\n    canvas.pause(0.5)\n\n    for n2 in G.neighbors(n):\n        if G.nodes[n2]['seen']:\n            continue\n        canvas.edge((n, n2)).traverse().color('red').pause(0.5)\n        dfs(n2) # DFS on neighbor\n        canvas.edge((n2, n)).traverse().color('blue').pause(0.5)\n        canvas.node(n).highlight().size('1.25x').pause(0.5)\n        \ndfs(0)\n"},213:function(e,n,t){"use strict";t.r(n),n.default="# Maze Solver\n\nmaze = [\n    'x....x..',\n    '..xx...x',\n    'x...xxxx',\n    '.xx.x...',\n    '......x.',\n    'x.xxx.x.',\n    'x...x.xx',\n    '..x.x..x'\n]\nmaze_width, maze_height = len(maze[0]), len(maze)\nmaze_path_char = '.'\nmaze_start, maze_end = (0, maze_height - 1), (maze_width - 1, 0)\n\ndef node_pos(coords):\n    x = (coords[0] - (maze_width - 1) / 2) * 50\n    y = -(coords[1] - (maze_height - 1) / 2) * 50\n    return (x, y)\n\ndef get_adjacent(coords):\n    x, y = coords[0], coords[1]\n    adjacent = []\n\n    if x < maze_width - 1 and maze[y][x + 1] == maze_path_char:\n        adjacent.append((x + 1, y))\n    if x > 0 and maze[y][x - 1] == maze_path_char:\n        adjacent.append((x - 1, y))\n    if y < maze_height - 1 and maze[y + 1][x] == maze_path_char:\n        adjacent.append((x, y + 1))\n    if y > 0 and maze[y - 1][x] == maze_path_char:\n        adjacent.append((x, y - 1))\n\n    return adjacent\n\ndef animate_dfs():\n    stack = get_adjacent(maze_start)\n\n    seen = {(x, y): False for x in range(maze_width)\n        for y in range(maze_height)}\n\n    canvas.duration(1).pan(node_pos(maze_start)).zoom(2)\n    canvas.pause(1)\n\n    prev = maze_start\n    cur = None\n    seen[prev] = True\n    while len(stack) > 0:\n        cur = stack[len(stack) - 1]\n        seen[cur] = True\n\n        if prev != maze_start:\n            canvas.node(prev).color('green').pause(0.3)\n\n        edge = (prev, cur)\n        canvas.edge(edge).traverse().color('green')\n        canvas.pan(node_pos(cur))\n        canvas.pause(0.3)\n\n        if cur == maze_end:\n            break\n\n        adjacent = [n for n in get_adjacent(cur) if not seen[n]]\n        while len(adjacent) == 0:\n            stack = stack[0:len(stack) - 1]\n            prev = stack[len(stack) - 1]\n\n            canvas.node(cur).color('red').pause(0.3)\n            canvas.edge((cur, prev)).traverse().color('red')\n            canvas.pan(node_pos(prev))\n            canvas.pause(0.3)\n\n            adjacent = [n for n in get_adjacent(prev) if not seen[n]]\n            cur = prev\n\n        stack.append(adjacent[0])\n        prev = cur\n\n    canvas.pause(0.5)\n    canvas.duration(2).pan((0, 0)).zoom(1)\n\ndef create_graph():\n    node_coords = [(x, y) for x in range(maze_width)\n        for y in range(maze_height)]\n\n    canvas.nodes(node_coords).add().fixed(True) \\\n        .pos(lambda n: node_pos(n)) \\\n        .label().text('')\n\n    canvas.nodes([maze_start, maze_end]).duration(0).color('blue')\n\n    edge_ids = []\n    for x, y in node_coords:\n        if maze[y][x] == maze_path_char:\n            for x2, y2 in get_adjacent((x, y)):\n                if x2 >= x and y2 >= y:\n                    edge_ids.append(((x, y), (x2, y2)))\n\n    canvas.edges(edge_ids).add()\n\ncanvas.pause(0.1)\ncreate_graph()\ncanvas.pause(1)\nanimate_dfs()\n"},214:function(e,n,t){"use strict";t.r(n),n.default="# Merge Sort\nimport math\n\nunsorted = [7, 3, 2, 6, 8, 5, 1, 4]\n\nnode_style = {\n    'shape': 'rect',\n    'size': (30, 15),\n    'fixed': True\n}\n\ndef node_pos(i, level):\n    x = (i - (len(unsorted) - 1) / 2) * 80\n    y = -(level - math.ceil(math.log2(len(unsorted))) / 2) * 120\n    return (x, y)\n\ndef node_id(i, level):\n    return str(i) + '_' + str(level)\n\ndef animate_merge_edge(node_prev, node_cur, number, color):\n    edge = (node_prev, node_cur)\n\n    canvas.node(node_prev).color(color)\n    canvas.edge(edge).add().directed(True)\n    canvas.pause(0.5)\n\n    canvas.edge(edge).traverse().duration(0.8).color(color).pause(0.2)\n    canvas.node(node_cur).label().text(number).visible(True)\n    canvas.pause(0.5)\n\n\ndef animate_merge(left, right, index, level):\n    total_len = len(left) + len(right)\n    prev_ids = [node_id(index + i, level - 1) for i in range(total_len)]\n    cur_ids = [node_id(index + i, level) for i in range(total_len)]\n\n    canvas.nodes(cur_ids).add() \\\n        .set(node_style) \\\n        .pos(lambda n, i: node_pos(index + i, level)) \\\n        .label().visible(False)\n\n    canvas.edges([(cur_ids[i], cur_ids[i + 1])\n        for i in range(len(cur_ids) - 1)]).add()\n\n    canvas.pause(0.8)\n\n    li = 0\n    ri = 0\n    result = []\n    for i in range(total_len):\n        if ri == len(right) or (li < len(left) and left[li] < right[ri]):\n            result.append(left[li])\n            animate_merge_edge(prev_ids[li], cur_ids[i],\n                left[li], 'green')\n            li += 1\n        else:\n            result.append(right[ri])\n            animate_merge_edge(prev_ids[len(left) + ri], cur_ids[i],\n                right[ri], 'red')\n            ri += 1\n\n    return result\n\ndef merge_sort(array, index=0, level=None):\n    level = math.ceil(math.log2(len(array))) if level is None else level\n\n    if len(array) == 1:\n        if level != 0:\n            animate_merge(array, [], index, level)\n        return array\n\n    split_index = len(array) // 2\n    left = merge_sort(array[0:split_index], index, level - 1)\n    right = merge_sort(array[split_index:], index + split_index, level - 1)\n\n    return animate_merge(left, right, index, level)\n\ncanvas.pause(0.1)\ntop_ids = [node_id(i, 0) for i in range(len(unsorted))]\ncanvas.nodes(top_ids).add() \\\n    .set(node_style) \\\n    .pos(lambda n, i: node_pos(i, 0)) \\\n    .data(unsorted).label() \\\n        .text(lambda n: n)\n\ncanvas.pause(1)\nmerge_sort(unsorted)\n"},215:function(e,n,t){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var a=r(t(0)),o=t(27),i=t(61),c=t(78),s=t(79),u=t(131),l=t(62),d=t(59),p=t(23),f=t(64),g=t(132),v=t(110);t(397);var h=function(e,n,t){var r=t.curPLang,a=t.getCode(),o=function(e){return t.dispatchLog(e,v.LogType.Normal)},i=function(e){return t.dispatchLog(e,v.LogType.Error)};setTimeout((function(){g.execute({algrxState:e,onUpdate:t.dispatchAlgrx,executeId:n,pLang:r,code:a,onOut:o,onErr:i})}),50)},m=function(e){var n=f.newExecuteId();e.dispatchExecute(n);var t=d.store.getState().executeState.algrxState;e.curPLang!==p.PLang.Python||e.executeState.loadedBrython?h(t,n,e):u.loadBrython((function(){e.dispatchLoadedBrython(),h(t,n,e)}))};n.OutputConnected=o.connect((function(e){return{curPLang:e.pLang,getCode:function(){var n=e.editorState.aceState;return n?n.editor.getValue():""},executeState:e.executeState}}),v.mapExecuteDispatchToProps)((function(e){var n=e.curPLang===p.PLang.Python&&e.executeState.running&&!e.executeState.loadedBrython,t=void 0!==e.executeState.algrxState;return a.createElement("div",{className:"output-container"},a.createElement(l.PaneHeader,{title:"OUTPUT",buttons:[]}),a.createElement("div",{className:"output",ref:function(n){return n&&!e.executeState.algrxState&&e.dispatchAlgrx(s.initAlgrx(n)),n}}),a.createElement("div",{className:"output-bar"},a.createElement("div",{className:"output-btn "+(n?"output-btn-loading":""),onClick:function(){!n&&t&&(e.executeState.running?e.executeState.paused?e.dispatchResume():e.dispatchPause():m(e))}},a.createElement(i.FontAwesomeIcon,{className:"output-btn-icon",icon:n?c.faSpinner:e.executeState.running&&!e.executeState.paused?c.faPause:c.faPlay,spin:n})),a.createElement("div",{className:"output-btn",onClick:function(r){var a=r.currentTarget;a.classList.add("output-btn-rotate"),setTimeout((function(){return a.classList.remove("output-btn-rotate")}),500),!n&&t&&m(e)}},a.createElement(i.FontAwesomeIcon,{className:"output-btn-icon",icon:c.faSyncAlt}))))}))},222:function(e){e.exports=JSON.parse('{"version":"1.0.0"}')},223:function(e,n,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var o=a(t(224)),i=a(t(225)),c=Math.random;n.executeJS=function(e){var n,t=r(r({},console),{log:function(n){return e.onOut(String(n))},error:function(n){return e.onErr(String(n))}});Math.random=c,Math.seed=(n=Math,function(e){var t=4294967295,r=123456789+e&t,a=987654321-e&t;n.random=function(){var e=((a=36969*(65535&a)+(a>>16)&t)<<16)+(65535&(r=18e3*(65535&r)+(r>>16)&t))>>>0;return e/=4294967296}});try{var a=o.transform(e.code,{presets:["es2015"]}).code;new Function("canvas","console","jsnx",a)(e.canvas,t,i)}catch(n){e.onErr(String(n))}}},23:function(e,n,t){"use strict";var r,a;Object.defineProperty(n,"__esModule",{value:!0});var o,i=t(60);!function(e){e.JS="javascript",e.Python="python"}(o=n.PLang||(n.PLang={})),n.PLangName=((r={})[o.JS]="JavaScript",r[o.Python]="Python",r),n.PLangID=((a={})[o.JS]="javascript",a[o.Python]="python",a),n.mapChangePLangToProps=function(e){return{dispatchChangePLang:function(n){return e({type:i.AppActionType.ChangePLang,newPLang:n})}}},n.pLangReducer=function(e,n){return void 0===e&&(e=o.JS),n.type===i.AppActionType.ChangePLang?n.newPLang:e}},356:function(e,n,t){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var a=r(t(0)),o=t(27),i=t(62),c=t(110);t(399);n.ConsoleConnected=o.connect((function(e){return{log:e.executeState.log}}))((function(e){return a.createElement("div",{className:"console-container"},a.createElement(i.PaneHeader,{title:"CONSOLE",buttons:[]}),a.createElement("div",{className:"console scrollbar-y scrollbar-x"},e.log.map((function(e,n){var t,r=(t={},t[c.LogType.Normal]="console-text-normal",t[c.LogType.Error]="console-text-error",t)[e.type];return a.createElement("pre",{key:n,className:"console-text "+r},e.text)}))))}))},357:function(e,n,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var o=a(t(0)),i=t(27),c=t(61),s=t(358),u=t(23),l=t(47),d=t(359),p=t(360);t(405);var f=function(e){return o.createElement("div",{className:"toolbar-plang-btn",onClick:function(){return e.dispatchChangePLang(e.btnPLang)}},o.createElement(d.ToggleBtn,{on:e.curPLang===e.btnPLang}),o.createElement(c.FontAwesomeIcon,{className:"toolbar-plang-btn-icon",icon:e.icon}),o.createElement("span",{className:"toolbar-plang-btn-text"},u.PLangName[e.btnPLang]))};n.ToolbarConnected=i.connect((function(e){return{curPLang:e.pLang}}),(function(e){return r(r({},u.mapChangePLangToProps(e)),l.mapOpenPopupToProps(e))}))((function(e){return o.createElement("div",{className:"toolbar"},o.createElement("div",{className:"toolbar-left"},o.createElement(f,r({},e,{btnPLang:u.PLang.JS,icon:s.faJs})),o.createElement(f,r({},e,{btnPLang:u.PLang.Python,icon:s.faPython}))),o.createElement("div",{className:"toolbar-right"},o.createElement(p.Btn,{text:"Open Examples",onClick:function(){return e.dispatchOpenPopup(l.Popup.OpenProject)}})))}))},359:function(e,n,t){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var a=r(t(0));t(401),n.ToggleBtn=function(e){return a.createElement("div",{className:"togglebtn "+(e.on?"togglebtn-on":"")},a.createElement("svg",{className:"togglebtn-svg"},a.createElement("circle",{className:"togglebtn-circle"}),a.createElement("circle",{className:"togglebtn-overlay"})))}},360:function(e,n,t){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var a=r(t(0));t(403),n.Btn=function(e){return a.createElement("div",{className:"btn",onClick:e.onClick},e.text)}},361:function(e,n,t){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var a=r(t(74)),o=t(74),i=t(23),c=t(47),s=t(117),u=t(110),l=t(191),d=function(e){return{pLang:e,popupState:c.initPopupState,editorState:s.initEditorState,executeState:u.initExecuteState(e)}},p=o.combineReducers({pLang:i.pLangReducer,popupState:c.popupReducer,editorState:s.editorReducer,executeState:u.executeReducer});n.createStore=function(){return a.createStore(p,l.loadState(d))}},385:function(e,n){},389:function(e,n){},391:function(e,n){},393:function(e,n){},395:function(e,n){},397:function(e,n){},399:function(e,n){},401:function(e,n){},403:function(e,n){},405:function(e,n){},407:function(e,n){},409:function(e,n){},47:function(e,n,t){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.OpenProject="open_project"}(n.Popup||(n.Popup={})),function(e){e.Open="popup/open",e.Close="popup/close"}(r=n.PopupActionType||(n.PopupActionType={})),n.mapOpenPopupToProps=function(e){return{dispatchOpenPopup:function(n){return e({type:r.Open,popup:n})}}},n.mapClosePopupToProps=function(e){return{dispatchClosePopup:function(){return e({type:r.Close})}}},n.initPopupState={isOpen:!1},n.popupReducer=function(e,t){return void 0===e&&(e=n.initPopupState),t.type===r.Open?{isOpen:!0,popup:t.popup}:t.type===r.Close?{isOpen:!1}:e}},59:function(e,n,t){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var a=r(t(0)),o=t(77),i=t(27),c=t(60),s=t(361),u=t(191);n.store=s.createStore(),window.onresize=function(){n.store.dispatch({type:c.AppActionType.Resize})},window.onbeforeunload=function(){u.saveState(n.store.getState())},o.render(a.createElement(i.Provider,{store:n.store},a.createElement(c.AppConnected,null)),document.getElementById("app"))},60:function(e,n,t){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var o,i=r(t(0)),c=t(27),s=a(t(363)),u=t(117),l=t(215),d=t(356),p=t(357),f=t(119),g=t(47);t(407),t(409),function(e){e.Resize="app/resize",e.ChangePLang="app/change-plang"}(o=n.AppActionType||(n.AppActionType={}));n.AppConnected=c.connect((function(e){return{popupState:e.popupState}}),(function(e){return{dispatchResize:function(){return e({type:o.Resize})}}}))((function(e){return i.createElement(i.Fragment,null,i.createElement("div",{className:"container"},i.createElement(s.default,{className:"split-container-x",direction:"horizontal",sizes:[60,40],gutterSize:2,onDrag:function(){return e.dispatchResize()}},i.createElement("div",{className:"split"},i.createElement(u.EditorConnected,null)),i.createElement("div",{className:"split",style:{position:"relative"}},i.createElement(s.default,{className:"split-container-y",direction:"vertical",sizes:[70,30],gutterSize:2,onDrag:function(){return e.dispatchResize()}},i.createElement("div",{className:"split"},i.createElement(l.OutputConnected,null)),i.createElement("div",{className:"split"},i.createElement(d.ConsoleConnected,null))))),i.createElement("div",{className:"toolbar-container"},i.createElement(p.ToolbarConnected,null))),e.popupState.isOpen&&e.popupState.popup===g.Popup.OpenProject?i.createElement(f.OpenProjectConnected,null):i.createElement(i.Fragment,null))}))},62:function(e,n,t){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var a=r(t(0)),o=t(61);t(385),n.PaneHeader=function(e){return a.createElement("div",{className:"paneheader"},a.createElement("div",{className:"paneheader-title"},e.title),e.buttons.map((function(e,n){return a.createElement("div",{key:n,className:"paneheader-btn",onClick:e.onClick},a.createElement(o.FontAwesomeIcon,{className:"paneheader-btn-icon",icon:e.icon}))})))}},64:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(59);n.ensureExecuteId=function(e,n){return function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var o=r.store.getState().executeState.executeId;e===o&&n.apply(void 0,t)}},n.processLog=function(e){return e.reduce((function(e,n){var t=n.text.split("\n");return e.concat(t.map((function(e){return{text:e,type:n.type}})))}),[])},n.newExecuteId=function(){return Math.random().toString(36).substring(2)}},79:function(e,n,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;var r=Array(e),a=0;for(n=0;n<t;n++)for(var o=arguments[n],i=0,c=o.length;i<c;i++,a++)r[a]=o[i];return r},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var i=o(t(362)),c=t(59),s=t(64);n.initAlgrx=function(e){var n=i.client(e),t=n.canvas();return n.subscribe((function(e){var n=c.store.getState().executeState;n.algrxState&&n.algrxState.subscriptions.forEach((function(n){return n(e)}))})),{element:e,client:n,canvas:t,subscriptions:[]}},n.createEventHandler=function(e,n,t){return{dispatch:s.ensureExecuteId(n,(function(n){e.client.dispatch(n)})),subscribe:s.ensureExecuteId(n,(function(n){t(r(r({},e),{subscriptions:a(e.subscriptions,[n])}))}))}},n.createCanvasSelection=function(e){return i.canvasSelection("demo",e)},n.resizeCanvas=function(e){var n=e.element.getBoundingClientRect();return e.canvas.duration(0).eventQ(null).size([n.width,n.height]),e},n.clearCanvas=function(e){return e.canvas.duration(0).eventQ(null).remove().cancelall().startall(),n.resizeCanvas(e)},n.resetAlgrx=function(e){return r(r({},n.clearCanvas(e)),{subscriptions:[]})},n.pauseCanvas=function(e){return e.canvas.eventQ(null).stopall(),e},n.resumeCanvas=function(e){return e.canvas.eventQ(null).startall(),e}}});
//# sourceMappingURL=index.81faa0f1bd18ce8fcc08.js.map